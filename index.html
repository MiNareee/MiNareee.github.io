<!DOCTYPE html>
<html lang="ru">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://libs.zappar.com/zappar-aframe/0.3.29/zappar-aframe.js"></script>
</head>
  <body>
    <a-scene>
        <a-assets>
          <img id="hat" crossorigin="anonymous"
                src="https://cdn.glitch.global/8cd2ee54-a770-4224-88fc-e8ed68987492/Illyustratsia_bez_nazvania%20(1).png?v=1642923324848" />    
        </a-assets>
        <a-entity zappar-permissions-ui id="permissions"></a-entity>
        <a-entity zappar-compatibility-ui id="compatibility"></a-entity>

        <a-entity camera zappar-camera="user-facing: true; user-camera-mirror-mode: poses""> </a-entity>
        <a-entity zappar-face id="my-face-tracker">
             id="facemesh0" geometry="primitive: plane;"
                    material="src:#hat; transparent: true;" rotation="0 0 0" 
                    scale="1.5 1.5 1.5" position="0 0.7 .8"
        </a-entity>
    </a-scene>

<script>

let myFaceTracker = document.getElementById("my-face-tracker");

myFaceTracker.addEventListener("zappar-visible", () => {
  console.log("Face has become visible");
});

myFaceTracker.addEventListener("zappar-notvisible", () => {
  console.log("Face is no longer visible");
});

</script>
                                         </body>

</html>
